set-window-option -g mode-keys vi
set -g default-terminal "xterm-256color"
set -ga terminal-overrides ',*256col*:Tc'

source-file ".config/tmux/tmux.d/*"

set-window-option -g mouse on

# vi/vim uses <esc> to transition modes, most special keys' character sequences
# begin with escape so tmux has to wait before sending <esc> alone. lower this
# time so tmux doesn't drag down vim
# see: https://github.com/tmux/tmux/issues/353#issuecomment-294570322
set-option -s escape-time 5

bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'y' send -X copy-selection
bind-key -T copy-mode-vi 'Space' send -X halfpage-down
bind-key -T copy-mode-vi 'Bspace' send -X halfpage-up

# vim style bindings for switching panels
bind k selectp -U # switch to panel Up
bind j selectp -D # switch to panel Down
bind h selectp -L # switch to panel Left
bind l selectp -R # switch to panel Right

source-file "$XDG_CONFIG_HOME/base16.256.tmuxtheme"

bind -T root F12  \
  set prefix None \;\
  set key-table off \;\
  if -F '#{pane_in_mode}' 'send-keys -X cancel' \;\
  refresh-client -S \;\

bind -T off F12 \
  set -u prefix \;\
  set -u key-table \;\
  set -u status-style \;\
  set -u window-status-current-style \;\
  set -u window-status-current-format \;\
  refresh-client -S
