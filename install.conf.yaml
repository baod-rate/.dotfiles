- clean: ['~', '$XDG_CONFIG_HOME']

- shell:
    - [git submodule update --init --recursive, Installing submodules]

# ==========
# Core links
# ==========
- defaults:
    link:
      relink: true
      create: true
      relative: true

- link:
    ~/.dotfiles:
      path: ''
      if: '[ ! -d ~/.dotfiles ]'
    ~/.scripts:
      path: scripts
      relink: true
    ~/.colors:
      path: colors
      relink: true

# ============
# Common links
# ============
- defaults:
    link:
      relink: true
      create: true
      relative: true

- link:
    # directories
    # -----------
    ~/.config/nvim: neovim
    ~/.config/termite: termite
    # ~/.config/fontconfig: fontconfig
    ~/.config/firefox: firefox

    # files
    # -----
    # -- gpg
    ~/.gitconfig: git/config
    ~/.gitconfig-work: git/config-work
    ~/.gitconfig-personal: git/config-personal
    ~/.gitignore_global: git/gitignore_global
    ~/.ssh/config: ssh/config
    ~/.ssh/gpg-qubidt.pub: ssh/gpg-qubidt.pub
    ~/.ssh/gpg-baot.pub: ssh/gpg-baot.pub
    ~/.gnupg/gpg-agent.conf: gnupg/gpg-agent.conf
    ~/.gnupg/sshcontrol: gnupg/sshcontrol
    # -- tmux
    ~/.tmux.conf: tmux/tmux.conf
    ~/.config/tmux/tmux.d/base16.256.conf: tmux/base16.256.tmuxtheme
    # -- zsh
    ~/.zshenv: zshenv
    ~/.config/zsh: zsh
    # -- misc
    ~/.base16_theme: base16_theme
    ~/.vimperator: vimperator
    ~/.vimperatorrc: vimperatorrc

# =========
# Alacritty
# =========
- defaults:
    link:
      relink: true
      create: true
      relative: true

- link:
    ~/.config/alacritty/alacritty.d/base16-colors.yml:
      path: alacritty/base16-colors.yml
    ~/.config/alacritty/alacritty.d/alacritty.base.yml:
      path: alacritty/alacritty.base.macos.yml
      if: '[ "$(uname -s)" "==" "Darwin" ]'
    ~/.config/alacritty/alacritty.d/alacritty.base.yml:
      path: alacritty/alacritty.base.linux.yml
      if: '[ "$(uname -s)" "==" "Linux" ]'

- shell:
  -
    command: cat ~/.config/alacritty/alacritty.d/*.yml > ~/.config/alacritty/alacritty.yml
    stdin: true
    stdout: true
    stderr: true
    description: Generating alacritty config
    quiet: false

# ================
# MacOS only links
# ================
- defaults:
    link:
      relink: true
      create: true
      relative: true
      if: '[ "$(uname -s)" "==" "Darwin" ]'

- link:
    # directories
    # -----------
    ~/.config/iterm2: iterm2
    ~/.mpd: mpd
    ~/Library/Application Support/Übersicht/widgets: ubersicht/widgets
    ~/.config/brewfile: brewfile
    ~/.config/chunkwm: chunkwm

    # files
    # -----
    ~/.chunkwmrc: chunkwm/chunkwmrc.sh
    ~/.skhdrc: chunkwm/skhdrc
    ~/.chunkwmrc: chunkwm/chunkwmrc.sh
    ~/.skhdrc: chunkwm/skhdrc
    ~/Library/Application Support/Übersicht/widgets: ubersicht/widgets
    ~/.config/tmux/tmux.d/tmux-shell.conf: tmux/tmux-shell.macos.conf

# ================
# Linux only links
# ================
- defaults:
    link:
      relink: true
      create: true
      relative: true
      if: '[ "$(uname -s)" "==" "Linux" ]'

- link:
    # directories
    # -----------
    ~/.config/sway: sway
    ~/.config/rofi: rofi
    ~/.Xresources.d: Xresources.d
    ~/.config/i3status: i3status
    ~/.config/i3status-rust: i3status-rust
    ~/.config/i3: i3
    ~/.local/share/systemd: systemd
    ~/.local/share/barrier: barrier

    # files
    # -----
    ~/.xbindkeysrc: xbindkeysrc
    ~/.Xresources: Xresources
    ~/.xinitrc: xinitrc
    ~/.xprofile: xprofile
    ~/.config/compton.conf: compton.conf
